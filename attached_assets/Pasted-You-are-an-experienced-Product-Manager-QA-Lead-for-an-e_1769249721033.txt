You are an experienced Product Manager + QA Lead for an enterprise restaurant Back Office system (Purchasing + Inventory & Prep) built with a strict, auditable v2 data model.

Your task: generate a comprehensive set of **edge cases** and **failure scenarios** for the following workflows and screens, including expected behavior, validations, UI guardrails, and data integrity implications.

### Context (Product)
Back Office modules:
- Purchasing: Vendors, Purchase Orders, Convert/Receive to Invoices, Invoice list/detail (Finalize/Reject/Credit memo)
- Inventory & Prep: Items lookup, Inventory Posting Wizard (Daily/Weekly/Monthly), Count Entry grid, Waste entry, Transfers (stub)
Constraints:
- Multi-location (location switcher; data scoped by location)
- Role-based access control (RBAC)
- Financial immutability: finalized invoices lock changes; cost snapshots
- Inventory integrity via ledger/adjustments and count reconciliation
- Minimalist UI, Fitts’s Law placement, WCAG AA (keyboard + contrast + forms)

Screens to cover (exact routes):
- /purchasing/orders
- /purchasing/orders/:poId/receive
- /purchasing/invoices
- /purchasing/invoices/:invoiceId
- /purchasing/vendors
- /purchasing/vendors/:vendorId
- /inventory/items
- /inventory/posting
- /inventory/posting/:batchId
- /inventory/waste

### Output requirements
Produce edge cases in this structured format:

1) **Edge Case Title**
- Module / Screen / Route:
- Category: (Data integrity | UX | Access control | Concurrency | Timezone/Date | Import | Performance | Accessibility | Security | Reporting)
- Preconditions:
- Steps:
- Expected UI behavior:
- Expected API/server behavior:
- Expected database outcome (what tables/fields should change, what must NOT change):
- Severity (S1 critical / S2 major / S3 minor):
- Test type: (unit | integration | e2e | a11y | load)

### What to generate
Generate at least:
- 20 edge cases for Purchasing
- 20 edge cases for Invoices (especially finalize/reject/credit memo)
- 20 edge cases for Inventory Posting + Count Entry grid
- 15 edge cases for Waste
- 10 cross-cutting edge cases (RBAC, location switching, concurrency, audit logs, accessibility)

### Must include edge case classes
A) Data & validation
- duplicate invoice IDs per vendor vs allowed duplicates
- negative/zero quantities, huge quantities, decimal precision
- mismatch totals (line totals vs header totals)
- receiving > ordered, partial receiving, missing lines
- UOM conversion errors (case vs each vs kg), rounding issues
- inactive/excluded vendor used in PO/invoice
- missing required fields during finalize/submission
- cost snapshot vs changing item price later

B) Workflow/state machine
- PO Draft -> Sent -> Partially Received -> Closed
- Invoice Draft/Pending -> Finalized OR Rejected
- Count Batch Draft -> Submitted -> Locked
- Waste entry draft -> posted -> locked
- attempt to edit locked entities
- undo/cancel flows and what can/can’t be reverted

C) Concurrency & offline-ish conditions
- two users editing same invoice lines
- user finalizes while another has form open
- stale list data; optimistic update conflicts
- autosave collisions in editable grid
- API timeouts / retries; idempotency of finalize/submit

D) Multi-location & permissions
- switching location mid-edit
- user lacks permission to finalize/reject/submit
- viewer role tries to access write routes
- cross-location item/vendor usage rules

E) Import/Integration (even if stubbed)
- importing invoice with unknown vendor items
- malformed CSV/EDI file, missing columns
- timezone mismatch on delivered times
- duplicate imports

F) Accessibility & UX
- keyboard-only navigation through editable grid
- focus trap in confirm modal
- aria-label missing on icon buttons
- error messages announced properly
- no color-only status indication
- touch targets 44x44
- Fitts’s Law check: critical actions not too small or too close to dangerous actions

G) Security & auditability
- ensure audit log created for finalize/reject/count submit/waste entry
- prevent IDOR: user cannot access another org/location resource
- rate limiting or abuse scenarios on search endpoints
- PII not exposed (vendor contacts minimal)

### Important: Expected behavior must match principles
- Minimalist: avoid extra modals unless necessary
- Fitts’s law: primary action top-right, consistent
- Destructive actions require confirm + reason where needed
- Finalize/Submit/Reconcile actions are idempotent and safe

Now generate the edge cases.